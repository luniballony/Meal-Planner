{% extends "base.html" %} {% block title %}Editar Receita{% endblock %} {% block
content %}
<div class="admin-container">
  <h2>✏️ Editar Receita</h2>

  <div class="admin-content">
    <form
      method="POST"
      action="{{ url_for('admin.editar_receita', receita_id=receita.id) }}"
      class="form"
    >
      {{ form.csrf_token }}

      <div class="form-group">
        {{ form.titulo.label(class="form-label") }} {{
        form.titulo(class="input-field") }} {% if form.titulo.errors %}
        <div class="error-text">
          {% for error in form.titulo.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.descricao.label(class="form-label") }} {{
        form.descricao(class="input-field", rows=3) }} {% if
        form.descricao.errors %}
        <div class="error-text">
          {% for error in form.descricao.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.ingredientes.label(class="form-label") }} {{
        form.ingredientes(class="input-field", rows=5) }} {% if
        form.ingredientes.errors %}
        <div class="error-text">
          {% for error in form.ingredientes.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.instrucoes.label(class="form-label") }} {{
        form.instrucoes(class="input-field", rows=5) }} {% if
        form.instrucoes.errors %}
        <div class="error-text">
          {% for error in form.instrucoes.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div style="display: flex; gap: 20px">
        <div class="form-group" style="flex: 1">
          {{ form.tempo_preparacao.label(class="form-label") }} {{
          form.tempo_preparacao(class="input-field") }} {% if
          form.tempo_preparacao.errors %}
          <div class="error-text">
            {% for error in form.tempo_preparacao.errors %} {{ error }} {%
            endfor %}
          </div>
          {% endif %}
        </div>

        <div class="form-group" style="flex: 1">
          {{ form.dificuldade.label(class="form-label") }} {{
          form.dificuldade(class="input-field") }} {% if form.dificuldade.errors
          %}
          <div class="error-text">
            {% for error in form.dificuldade.errors %} {{ error }} {% endfor %}
          </div>
          {% endif %}
        </div>
      </div>

      <div class="form-group">
        {{ form.tags.label(class="form-label") }} {{
        form.tags(class="input-field") }}
        <small style="color: #666">Separe as tags com vírgulas</small>
        {% if form.tags.errors %}
        <div class="error-text">
          {% for error in form.tags.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.categoria_id.label(class="form-label") }} {{
        form.categoria_id(class="input-field") }} {% if form.categoria_id.errors
        %}
        <div class="error-text">
          {% for error in form.categoria_id.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}
      </div>

      <div
        class="form-group"
        style="display: flex; align-items: center; gap: 10px"
      >
        {{ form.publica(style="width: auto;") }} {{ form.publica.label }}
      </div>

      <div
        class="form-group"
        style="display: flex; align-items: center; gap: 10px"
      >
        <input
          type="checkbox"
          id="aprovar"
          name="aprovar"
          {%
          if
          receita.aprovada
          %}checked{%
          endif
          %}
          style="width: auto"
        />
        <label for="aprovar">Receita aprovada</label>
      </div>

      <div
        class="botoes"
        style="justify-content: space-between; margin-top: 30px"
      >
        <a href="{{ url_for('admin.listar_receitas') }}" class="btn btn-outline"
          >Cancelar</a
        >
        {{ form.submit(class="btn btn-primary") }}
      </div>
    </form>
  </div>
</div>
{% endblock %}
